import{r as V,Q as G,t as ee,s as f,B as l,H as te,d as q,j as oe,o as m,y as _,z as k,w as H,a as C,C as y,O,D as ne,E as x,M as P,A as se,c as F,F as ae,S as K,g as ie,K as U,U as le,Z as w,_ as re,$ as Z}from"./index-CW5yWJQw.js";import{u as ue,o as ce,k as fe,n as de,q as pe,s as ve,t as me,z as ye,S as ge,c as Ce,e as he,f as N,T as $,v as be,E as j,_ as _e,C as Se,p as Ee,x as z,i as Ie,y as A,A as Te}from"./base-2rpFDnCU.js";const D=e=>Object.keys(e),W=Symbol(),S=V();function J(e,s=void 0){const t=G()?ee(W,S):S;return e?f(()=>{var n,i;return(i=(n=t.value)==null?void 0:n[e])!=null?i:s}):t}function ke(e,s){const t=J(),n=ue(e,f(()=>{var o;return((o=t.value)==null?void 0:o.namespace)||ce})),i=fe(f(()=>{var o;return(o=t.value)==null?void 0:o.locale})),r=de(f(()=>{var o;return((o=t.value)==null?void 0:o.zIndex)||pe})),u=f(()=>{var o;return l(s)||((o=t.value)==null?void 0:o.size)||""});return xe(f(()=>l(t)||{})),{ns:n,locale:i,zIndex:r,size:u}}const xe=(e,s,t=!1)=>{var n;const i=!!G(),r=i?J():void 0,u=(n=s==null?void 0:s.provide)!=null?n:i?te:void 0;if(!u)return;const o=f(()=>{const c=l(e);return r!=null&&r.value?Ne(r.value,c):c});return u(W,o),u(ve,f(()=>o.value.locale)),u(me,f(()=>o.value.namespace)),u(ye,f(()=>o.value.zIndex)),u(ge,{size:f(()=>o.value.size||"")}),(t||!S.value)&&(S.value=o.value),o},Ne=(e,s)=>{var t;const n=[...new Set([...D(e),...D(s)])],i={};for(const r of n)i[r]=(t=s[r])!=null?t:e[r];return i},Q=["success","info","warning","error"],ze=Ce({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:he},id:{type:String,default:""},message:{type:N([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:N(Function),default:()=>{}},onClose:{type:N(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Q,""],default:""},zIndex:Number}),we={destroy:()=>!0},Be=["id"],Me=["textContent"],Le={key:0},He=["innerHTML"],Oe=q({name:"ElNotification"}),Pe=q({...Oe,props:ze,emits:we,setup(e,{expose:s}){const t=e,{ns:n,zIndex:i}=ke("notification"),{nextZIndex:r,currentZIndex:u}=i,{Close:o}=Se,c=V(!1);let d;const p=f(()=>{const a=t.type;return a&&$[t.type]?n.m(a):""}),v=f(()=>t.type&&$[t.type]||t.icon),I=f(()=>t.position.endsWith("right")?"right":"left"),Y=f(()=>t.position.startsWith("top")?"top":"bottom"),R=f(()=>{var a;return{[Y.value]:`${t.offset}px`,zIndex:(a=t.zIndex)!=null?a:u.value}});function T(){t.duration>0&&({stop:d}=Ee(()=>{c.value&&h()},t.duration))}function M(){d==null||d()}function h(){c.value=!1}function X({code:a}){a===z.delete||a===z.backspace?M():a===z.esc?c.value&&h():T()}return oe(()=>{T(),r(),c.value=!0}),be(document,"keydown",X),s({visible:c,close:h}),(a,b)=>(m(),_(le,{name:l(n).b("fade"),onBeforeLeave:a.onClose,onAfterLeave:b[1]||(b[1]=L=>a.$emit("destroy")),persisted:""},{default:k(()=>[H(C("div",{id:a.id,class:y([l(n).b(),a.customClass,l(I)]),style:O(l(R)),role:"alert",onMouseenter:M,onMouseleave:T,onClick:b[0]||(b[0]=(...L)=>a.onClick&&a.onClick(...L))},[l(v)?(m(),_(l(j),{key:0,class:y([l(n).e("icon"),l(p)])},{default:k(()=>[(m(),_(ne(l(v))))]),_:1},8,["class"])):x("v-if",!0),C("div",{class:y(l(n).e("group"))},[C("h2",{class:y(l(n).e("title")),textContent:P(a.title)},null,10,Me),H(C("div",{class:y(l(n).e("content")),style:O(a.title?void 0:{margin:0})},[se(a.$slots,"default",{},()=>[a.dangerouslyUseHTMLString?(m(),F(ae,{key:1},[x(" Caution here, message could've been compromised, never use user's input as message "),C("p",{innerHTML:a.message},null,8,He)],2112)):(m(),F("p",Le,P(a.message),1))])],6),[[K,a.message]]),a.showClose?(m(),_(l(j),{key:0,class:y(l(n).e("closeBtn")),onClick:ie(h,["stop"])},{default:k(()=>[U(l(o))]),_:1},8,["class","onClick"])):x("v-if",!0)],2)],46,Be),[[K,c.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Fe=_e(Pe,[["__file","notification.vue"]]);const E={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},B=16;let Ke=1;const g=function(e={},s=null){if(!Ie)return{close:()=>{}};(typeof e=="string"||w(e))&&(e={message:e});const t=e.position||"top-right";let n=e.offset||0;E[t].forEach(({vm:p})=>{var v;n+=(((v=p.el)==null?void 0:v.offsetHeight)||0)+B}),n+=B;const i=`notification_${Ke++}`,r=e.onClose,u={...e,offset:n,id:i,onClose:()=>{Ze(i,t,r)}};let o=document.body;A(e.appendTo)?o=e.appendTo:re(e.appendTo)&&(o=document.querySelector(e.appendTo)),A(o)||(o=document.body);const c=document.createElement("div"),d=U(Fe,u,w(u.message)?{default:()=>u.message}:null);return d.appContext=s??g._context,d.props.onDestroy=()=>{Z(null,c)},Z(d,c),E[t].push({vm:d}),o.appendChild(c.firstElementChild),{close:()=>{d.component.exposed.visible.value=!1}}};Q.forEach(e=>{g[e]=(s={})=>((typeof s=="string"||w(s))&&(s={message:s}),g({...s,type:e}))});function Ze(e,s,t){const n=E[s],i=n.findIndex(({vm:d})=>{var p;return((p=d.component)==null?void 0:p.props.id)===e});if(i===-1)return;const{vm:r}=n[i];if(!r)return;t==null||t(r);const u=r.el.offsetHeight,o=s.split("-")[0];n.splice(i,1);const c=n.length;if(!(c<1))for(let d=i;d<c;d++){const{el:p,component:v}=n[d].vm,I=Number.parseInt(p.style[o],10)-u-B;v.props.offset=I}}function $e(){for(const e of Object.values(E))e.forEach(({vm:s})=>{s.component.exposed.visible.value=!1})}g.closeAll=$e;g._context=null;const De=Te(g,"$notify");export{De as E,J as u};
